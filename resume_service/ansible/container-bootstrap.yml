- name: Bootstrap Flask Docker container
  hosts: local
  vars:
    project_path: /root/ResumeParser
    project_requirements: requirements.txt
  tasks:
    - name: update core libs
      apt: update_cache=yes
    - name: install basic packages
      apt: pkg={{ item }} update_cache=yes cache_valid_time=3600
      with_items:
        - curl
        - wget
        - build-essential
        - libssl-dev
        - gcc
        - make
        - zlib1g-dev
        - libbz2-dev
        - libmysqlclient-dev
        - libreadline-dev
        - libxml2-dev
        - libxslt-dev
        - nginx
    - name: install Python and Basic Tools
      apt: pkg={{ item }} update_cache=yes cache_valid_time=3600
      with_items:
        - python
        - python-dev
        - python-distribute
        - python-pip
        - python-setuptools
        - software-properties-common
        - python-software-properties
    - name: install requirements.txt
      pip: requirements="{{ project_path }}/{{ project_requirements }}"