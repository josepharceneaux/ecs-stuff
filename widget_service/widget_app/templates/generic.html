<!DOCTYPE html>
<html lang="en">
<head>

    <link href="{{=URL('static','css/bootstrap.min.css')}}" rel="stylesheet">
    <link rel="stylesheet" type="text/less" href="{{=URL('static','css/widget.less')}}">
    <script src="{{=URL('static','js/less.js')}}" type="text/javascript"></script>
    <script src="{{=URL('static','js/modernizr-2-6-2-custom.js')}}"></script>
</head>
<body style="padding-top:50px;padding-bottom:50px;{{ if isBackgroundTransparent: }}background-color: transparent !important;{{ pass }}">

<style type="text/css">
    .error{
     color: red !important;
    }
</style>
<div style="margin:{{= margin }};width:{{= width }}px;">
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <div class="gettalent_container {{ if not isWide: }}expanding{{ pass }}" style="display:none;">

        <header>
            Join Our Talent Community
        </header>

        <div class="gettalent_tabs">
        {{ if mode == 'form': }}
            <div id="gettalent_welcome">
                <form method="post" enctype="multipart/form-data" action="{{= URL('widget', 'submit', args=request.args, vars=request.vars) }}" id="widget_form">
                    <div class="gettalent_col1 ">
                        <label for="firstName">First Name*</label>
                        <input type="text" id="firstName" name="firstName" value="{{= form_fields.get('firstName') or '' }}" required/>
                        <label for="lastName" class="">Last Name*</label>
                        <input type="text" id="lastName" name="lastName" value="{{= form_fields.get('lastName') or '' }}" required/>
                        <label for="emailAdd" class="">Email*</label>
                        <input type="email" id="emailAdd" name="emailAdd" value="{{= form_fields.get('emailAdd') or '' }}" required/>
                        <label for="phoneNum" class="{{ if not isExpanded: }}expand {{ pass }}">Phone</label>
                        <input type="tel" class="{{ if not isExpanded: }}expand{{ pass }}" id="phoneNum" name="phoneNum" value="{{= form_fields.get('phoneNum') or '' }}">
                    </div>
                    <div class="gettalent_col2 {{ if not isExpanded and not isWide: }}expand{{ pass }}">
                        <label for="currTitle">Current Title</label>
                        <input type="text" id="currTitle" name="currTitle" value="{{= form_fields.get('currTitle') or '' }}">
                        <label for="currComp">Current Company</label>
                        <input type="text" id="currComp" name="currComp" value="{{= form_fields.get('currComp') or '' }}">
                        <label for="interestId">Areas of Interest</label>
                        <select id="interestId" name="interestId">
                            <option value=""></option>
                        {{ for interest in areas_of_interest: }}
                            <option value="{{= interest.id }}" {{= XML('selected="selected"') if form_fields.get('interestId') == interest.id else ''}} >{{= interest.description }}</option>
                        {{ pass }}
                        </select>
                    {{ otherinterest_attr = ("value='%s'" % form_fields.get('interestInfo')) if form_fields.get('interestInfo') else 'style="display:none;"' }}
                        <input type="text" id="interestInfo" name="interestInfo" {{= XML(otherinterest_attr) }} />

                        <div id="gettalent_resume" class="well">
                            <div id="gettalent_upload" class="">
                                <p>Upload Your Resume <em>optional</em></p>
                                <!-- <button id="btn-upload" class="btn">
                                 Browse
                               </button> -->
                                <input type="file" name="file" id="file_upload" style="padding:0px 4px;"/> <!-- until we get stylized upload button, padding removed -->
                            </div>
                            <div id="gettalent_upload" class="">
                                <p>Upload other documents <em>optional</em></p>
                                <input type="file" name="documents" id="document_upload" multiple style="padding:0px 4px;"/> <!-- until we get stylized upload button, padding removed -->
                            </div>

                            <div id="gettalent_attachment" class="" style="display:none;">
                                <div>
                                    <button class="close">x</button>
                                    <p>Attached file:</p>

                                    <p class="docIcon"><a href="#">Resume.pdf</a></p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <button id="btn-submit" class="btn" type="submit">
                        Join
                    </button>
                </form>
            </div>
        {{ elif mode == 'success': }}
            <div id="gettalent_successful">
                <p class="alert alert-success">Your information has successfully been submitted.</p>

                <p>Thank you for your interest in our talent community. Please check your email for further instructions.</p>
            </div>
        {{ elif mode == 'error': }}
            <div id="gettalent_error" class="alert alert-error">
                <p>An error occurred while sending your information. Please refresh your browser and try again.</p>
            </div>
        {{ pass }}
        </div>
        <!-- /tabs -->

        <footer>
            <a href="http://gettalent.com">Recruiting Software</a> by getTalent
        </footer>
    </div>
    <!-- /container -->

    <!-- javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="{{= URL('static', 'js/jquery-1.7.2.min.js') }}"></script>
    <script type="text/javascript" src="{{=URL('static', 'js/jquery.validate.min.js')}}"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-33209718-1']);
        _gaq.push(['_trackPageview']);
        var placeholderNotSupported = false;
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
        // If in iframe, set padding to 0
        $(document).ready(function () {
            var isInIframe = (window.location != window.parent.location) ? true : false;
            var isInPopup = (window.opener != null) && (window.top.location.href.indexOf("?k=") === -1); // If k param provided, then disable popup mode, since may be coming from email.
            if (isInIframe || isInPopup) {
                $("body").css("padding-top", "0px");
                $("body").css("padding-bottom", "0px");
            }
            if (isInPopup) {
                $("body > div").css('width', 'inherit');
            }
            if (!Modernizr.input.placeholder) {
                placeholderNotSupported = true;
                $('[placeholder]').focus(function () {
                    var input = $(this);
                    if (input.val() == input.attr('placeholder')) {
                        input.val('');
                        input.removeClass('placeholder');
                    }
                }).blur(function () {
                    var input = $(this);
                    if (input.val() == '' || input.val() == input.attr('placeholder')) {
                        input.addClass('placeholder');
                        input.val(input.attr('placeholder'));
                    }
                }).blur();
            }
            $(window).resize();
            // Custom email validation
            jQuery.validator.addMethod("validEmail", function(value, element) {
            return this.optional( element ) || /^[A-Za-z0-9](([_\.\-\+]?[a-zA-Z0-9]+)*)(([+]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\.\-]?[a-zA-Z0-9]+)*)\.([A-Za-z]{2,})$/.test( value );
            }, 'Please enter a valid email address.');
        });
        $("#widget_form").validate({
            rules: {
                emailAdd: {
                    required: true,
                    validEmail: true
                    }
                },
            validClass: ""
        });
    </script>
    <script src="{{= URL('static', 'js/gettalent_widget.js') }}"></script>
</div>
</body>
</html>



{{ else: }}
<!DOCTYPE html>
<html lang="en">
<head>
    <link href="{{=URL('static','css/bootstrap.min.css')}}" rel="stylesheet">
    <link rel="stylesheet" type="text/less" href="{{=URL('static','css/widget.less')}}">
    <script src="{{=URL('static','js/less.js')}}" type="text/javascript"></script>
    <!-- Mobile viewport optimized: h5bp.com/viewport -->
    <meta name="viewport" content="width=device-width, initial-scale = 1.0">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="{{= width }}">

</head>
<body style="padding:0;{{ if isBackgroundTransparent: }}background-color: transparent !important;{{ pass }}">

<div style="margin:{{= margin }};width:{{= width }}px;">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <div class="gettalent_container {{ if not isWide: }}expanding{{ pass }}" style="display:none;">

        <header {{ if is_walmart: }}style="background-color:rgb(26, 117, 207);background-image:none;"{{ pass }}>
            Join Our Talent Community
        </header>

        <div class="gettalent_tabs">
        {{ if mode == 'form': }}
            <div id="gettalent_welcome">
                <form method="post" enctype="multipart/form-data" action="{{= URL('widget', 'submit', args=request.args, vars=request.vars) }}">
                    <div class="gettalent_col1">
                        <label for="firstName">First Name*</label>
                        <input type="text" class="required" id="firstName" name="firstName" value="{{= form_fields.get('firstName') or '' }}"/>
                        <label for="lastName" class="">Last Name*</label>
                        <input type="text" class="required" id="lastName" name="lastName" value="{{= form_fields.get('lastName') or '' }}"/>
                        <label for="emailAdd" class="">Email*</label>
                        <input type="email" class="required" id="lastName" name="emailAdd" value="{{= form_fields.get('emailAdd') or '' }}">
                    </div>
                {{ if is_walmart: }}
                    <button id="btn-submit" style="background-color:rgb(26, 117, 207);background-image: none;" type="submit">
                        Join
                    </button>
                {{ else: }}
                    <button id="btn-submit" class="btn" type="submit">
                        Join
                    </button>
                {{ pass }}
                    <input type="hidden" name="wide" value="{{= isWide or '' }}"/>
                </form>
            </div>
        {{ elif mode == 'success': }}
            <div id="gettalent_successful">
                <p class="alert alert-success">Your information has successfully been submitted.</p>

                <p>Thank you for your interest in our talent community. Please check your email for further instructions.</p>
            </div>
        {{ elif mode == 'error': }}
            <div id="gettalent_error" class="alert alert-error">
                <p>An error occurred while sending your information. Please refresh your browser and try again.</p>
            </div>
        {{ pass }}
        </div>
        <!-- /tabs -->

        <footer>
            <a target="_blank" href="http://www.gettalent.com">Recruiting Software</a> by getTalent
        </footer>

    </div>
    <!-- javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    {{
    response.files = []
    response.files.append(URL('static', 'js/jquery-1.7.2.min.js'))
    response.files.append(URL('static', 'js/gettalent_widget.js'))
    response.include_files()
    }}

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-33209718-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>
</div>

</body>
</html>



{{ pass }}